
@model QLVB.DTO.Vanbanden.UploadVBDenViewModel

@(Html.Kendo().Window()
	.Name("ViewUploadVBDen")
	.Draggable()
	.AutoFocus(true)
	.Title("Đính kèm văn bản")
	.Resizable()
	.Width(500)
	.HtmlAttributes(new { style = "height:100%;" })
	.Visible(false)
	.Actions(actions => actions.Minimize().Maximize().Close())
	.Content(
	@<text>
		@(Html.Kendo().Upload()
				.Name("files")
				.Messages(m => m.Select("Chọn văn bản đính kèm")
				.StatusFailed("Lỗi").StatusUploaded("Hoàn thành")

				)
				//.HtmlAttributes(new { @class = "btn btn-sm btn-primary btn-flat" })
				.Async(a => a
					.Save("UploadVBDen", "File", new { idvanban = Model.idvanban })
					.Remove("RemoveVBDen", "File", new { idvanban = Model.idvanban })
					.AutoUpload(true)
				)
				.Files(files =>
				{
					foreach (var f in Model.listfile)
					{                        
						files.Add().Name(f.Name).Extension(f.Extension).Size(f.Size);
					}
				})
		)		
		
	</text>
	)
)
<script type="text/javascript">
	function CloseUploadVBDen() {
		var window = $("#ViewUploadVBDen").data("kendoWindow");
		window.close();
	}
	function OpenUploadVBDen() {		
		var window = $("#ViewUploadVBDen").data("kendoWindow");
		window.center();
		window.open();
	}

</script>
