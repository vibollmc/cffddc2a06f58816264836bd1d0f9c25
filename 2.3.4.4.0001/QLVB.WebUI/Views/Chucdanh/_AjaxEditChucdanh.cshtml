@model QLVB.DTO.Chucdanh.EditChucdanhViewModel

<div class="box">
    <form class="form-horizontal" id="formEditChucdanh">
        <span id="ketquaSaveChucanh" class="validation-summary-valid"></span>
        <header>
            <nav style="padding: 3px;">
                <button id="Savebtn" type="button" class="btn btn-sm btn-primary btn-flat " data-original-title="" title=""><i class="glyphicon glyphicon-floppy-saved"></i>&nbsp;Ghi nhận</button>
                <button id="Backbtn" type="button" class="btn btn-sm btn-primary btn-flat " data-original-title="" title=""><i class="glyphicon glyphicon-arrow-left"></i>&nbsp;Bỏ qua</button>
            </nav>
        </header>

        @Html.HiddenFor(m => m.intid)
        <div class="form-group form-group-window">
            @Html.LabelFor(m => m.strmachucdanh, new { @class = "control-label col-sm-4" })
            <div class="col-sm-6">
                @Html.TextBoxFor(m => m.strmachucdanh, new { @class = "form-control form-control-window", placeholder = "Mã chức danh" })
            </div>
        </div>
        <div class="form-group form-group-window ">
            @Html.LabelFor(m => m.strtenchucdanh, new { @class = "control-label col-sm-4" })
            <div class="col-sm-6">
                @Html.TextBoxFor(m => m.strtenchucdanh, new { @class = "form-control form-control-window", placeholder = "Tên chức danh" })
            </div>
        </div>
        <div class="form-group form-group-window ">
            @Html.LabelFor(m => m.strghichu, new { @class = "control-label col-sm-4" })
            <div class="col-sm-6">
                @Html.TextBoxFor(m => m.strghichu, new { @class = "form-control form-control-window", placeholder = "Ghi chú" })
            </div>
        </div>
        <div class="form-group form-group-window">
            @Html.LabelFor(m => m.Loaichucdanh, new { @class = "control-label col-sm-4" })
            <div class="col-sm-6">
                @Html.EnumDropDownListFor(m => m.Loaichucdanh, new { @class = "form-control form-control-window" })
            </div>
        </div>
    </form>
</div>
<script type="text/javascript">    
    $("#Savebtn").click(function () {
        var validatable = $("#formEditChucdanh").kendoValidator().data("kendoValidator");
        if (validatable.validate()) {
            $.ajax({
                type: "POST",
                url: '@Url.Action("Save", "Chucdanh")',
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({
                    intid: $('#intid').val(),
                    strmachucdanh: $('#strmachucdanh').val(),
                    strtenchucdanh: $('#strtenchucdanh').val(),
                    strghichu: $('#strghichu').val(),
                    Loaichucdanh: $('#Loaichucdanh').val()
                }),               
                success: function (data) {
                    if (data == 1) {
                        ShowResult("ketquaSaveChucanh", "Cập nhật thành công");
                        RefreshGrid();
                    }
                    else {
                        ShowResult("ketquaSaveChucanh", "Lỗi !!!");
                        RefreshGrid();
                    }
                },
            });
        } 
    });
    $('#Backbtn').click(function () {
        CloseEditChucdanh();
    })
</script>


